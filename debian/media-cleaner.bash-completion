_media_cleaner()
{
    local cur_word prev_word option_list

    cur_word="${COMP_WORDS[COMP_CWORD]}"
    prev_word="${COMP_WORDS[COMP_CWORD-1]}"

    option_list=`media-cleaner --show-options`

    # Only perform completion if the current word starts with a dash ('-'). 
    if [[ ${cur_word} == -* ]] ; then
        COMPREPLY=( $(compgen -W "${option_list}" -- ${cur_word}) )
    else
        COMPREPLY=()
    fi
    return 0 
}
complete -F _media_cleaner media-cleaner
